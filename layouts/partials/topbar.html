<nav class="topbar">
  <div class="fixed-top-container">
    <div class="container wide">
      <div class="flex-container">
        <div class="flex-item">
          <div class="logo"><a href="{{ .Site.BaseURL }}">{{ .Site.Title }}</a></div>
        </div>
        <div class="flex-item">
          <!-- Main Menu -->
          {{- $currentPage := . }}
          {{ range .Site.Menus.main }}
            {{- $menu_item_url := (cond (strings.HasSuffix .URL "/") .URL (printf "%s/" .URL) ) | absLangURL }}
            {{- $page_url:= $currentPage.Permalink | absLangURL }}
            <a class="menu-item{{- if eq $menu_item_url $page_url }} active {{- end }}"  href="{{ .URL | absLangURL }}"> {{ .Name }}</a>
          {{ end }}
          
          <!-- Extend Menu hide when on mobile -->
          <div class="hide-on-mobile">
            {{ range .Site.Menus.extend }}
              {{- $menu_item_url := (cond (strings.HasSuffix .URL "/") .URL (printf "%s/" .URL) ) | absLangURL }}
              {{- $page_url:= $currentPage.Permalink | absLangURL }}
              <a class="menu-item{{- if eq $menu_item_url $page_url }} active {{- end }}"  href="{{ .URL | absLangURL }}"> {{ .Name }}</a>
            {{ end }}
          </div>
        
          <div class="theme-switch-button"> {{ partial "theme-switch.html" . }}</div>
        </div>
      </div>
    </div>
  </div>
  <div class="header-offset-bottom"></div>
</nav>